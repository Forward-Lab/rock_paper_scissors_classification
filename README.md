# 프로젝트 설명 및 회고
---
## 구조도
![rps 구조도.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cda10c01-dc83-46b2-9d96-dc550fb8d1a1/rps_구조도.png)

## 프로젝트 목표

인공지능 서비스 개발 및 딥러닝 모델과 서비스 간의 상호작용 이해
개발은 다음과 같이 구분해서 진행함
1. 모델 개발
2. 웹 개발
3. 호스팅

## Tech Stack

1. 모델링
    1. Python, Tensorflow
2. 웹앱
    1. Frontend - HTML, CSS
    2. Backend - Flask
    3. hosting - GCP Compute Engine
3. 기타
    1. Github
    2. Docker

## 데이터셋

가위,바위,보 이미지 각각 2500가량, 총 7500개 정도

사람,각도,조명 등의 조건이 모두 다른 이미지셋

학습시엔 시간단축을 위해 사이즈를 1/2로 축소

## 모델링

1. 모델 구현 
2. 모델 비교 - MobileNet, ResNet50, Xception
    1. Xception이 99.9%로 100%에 가까운 성능을 보여주지만 학습 시간이 다른 모델에 비해 많이 소모되어 제외함
    2. MobileNet과 ResNet50을 비교한 결과 ResNet50 모델에 비해 MobileNet의 수렴 속도가 월등히 빠른 것으로 나타남
    3. 때문에 MobileNet을 채택

## 웹앱

- Flask기반의 웹앱을 구현
- 별도의 DataBase없이 업로드된 이미지는 서버로 전송
- 모델은 업로드된 사진을 불러와 예측후 값 전달
- 가위, 바위, 보 중에서 임의의 값을 선택하여 사용자의 사진과 가위바위보 승패를 판정

## 회고

- 비교적 간단한 분류 문제로서 MobileNet과 같이 복잡한 모델을 사용하지 않아도 충분히 성능을 낼 수 있을 것으로 예상, 더 작은 모델로 개선 가능
- 웹앱, 컨테이너, 인스턴스 간의 ip, 포트 연결 문제가 있어 로컬에서 단순 웹앱은 이상없었으나 도커컨테이너에선 접근이 안됐음
  - (가상환경, ip binding, 포트포워딩에 대한 이해도 필요)
    
- 사용성이 편리한 heroku를 사용하려고 했으나, 프로젝트에 필요한 모듈의 용량으로 인해 heroku 서버에 업로드가 불가능 했음(Heroku 용량 제한 500MB)
  - (모듈간의 의존성의 이해와 최적화 필요)

## 향후목표

- 웹앱과 모델을 분리
- 모델은 API로 제공할 수 있게 패키징
- CI/CD툴을 사용해 자동화,로깅,모니터링 추가
- K8S클러스터 구성 및 CT 파이프라인 구성
- 데이터 버전 관리
- 모델 교체 → 축소된 CNN
